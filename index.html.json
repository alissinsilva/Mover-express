<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Mover Express - Gest√£o de Entregas</title>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
                    <style>
                            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Dancing+Script:wght@600&display=swap');

                                    :root {
                                                --primary: #2ECC71; 
                                                            --bg: #0F0F0F;
                                                                        --card-bg: #1E1E1E;
                                                                                    --text: #FFFFFF;
                                                                                                --success: #25D366;
                                                                                                            --info: #3498DB;
                                                                                                                    }

                                                                                                                            body { font-family: 'Poppins', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; display: flex; justify-content: center; padding: 20px; }
                                                                                                                                    .app-container { width: 100%; max-width: 400px; background: var(--card-bg); padding: 25px; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); border: 1px solid #333; }
                                                                                                                                            .brand-header { text-align: center; margin-bottom: 25px; }
                                                                                                                                                    .brand-header h1 { font-weight: 800; font-size: 26px; color: var(--primary); text-transform: uppercase; margin: 0; }
                                                                                                                                                            .brand-header p { font-size: 11px; color: #aaa; letter-spacing: 2px; margin: 5px 0; }
                                                                                                                                                                    .input-box { background: #2b2b2b; padding: 12px 15px; border-radius: 15px; margin-bottom: 12px; border: 1px solid #444; }
                                                                                                                                                                            label { font-size: 10px; color: var(--primary); text-transform: uppercase; font-weight: 700; display: block; margin-bottom: 3px; }
                                                                                                                                                                                    input { width: 100%; background: transparent; border: none; color: white; font-size: 16px; outline: none; font-family: 'Poppins', sans-serif; }
                                                                                                                                                                                            .toggle-container { display: flex; align-items: center; justify-content: space-between; background: #2b2b2b; padding: 15px; border-radius: 15px; margin-bottom: 20px; border: 1px solid #444; }
                                                                                                                                                                                                    
                                                                                                                                                                                                            button { width: 100%; padding: 16px; border-radius: 15px; border: none; font-weight: 800; font-size: 15px; cursor: pointer; transition: 0.3s; text-transform: uppercase; margin-bottom: 10px; }
                                                                                                                                                                                                                    .btn-calc { background: var(--primary); color: #000; }
                                                                                                                                                                                                                            .btn-route { background: var(--info); color: #fff; display: none; }
                                                                                                                                                                                                                                    .btn-share { background: var(--success); color: #fff; display: none; }

                                                                                                                                                                                                                                            #recibo-area { display: none; margin-top: 25px; padding: 20px; background: white; color: #000; border-radius: 15px; position: relative; overflow: hidden; }
                                                                                                                                                                                                                                                    .carimbo { position: absolute; top: 40%; right: 10%; border: 4px solid #e74c3c; color: #e74c3c; padding: 5px 15px; font-weight: 900; font-size: 22px; text-transform: uppercase; transform: rotate(-25deg); opacity: 0.8; border-radius: 10px; pointer-events: none; font-family: 'Courier New', monospace; }
                                                                                                                                                                                                                                                            .recibo-top { text-align: center; border-bottom: 2px dashed #ddd; padding-bottom: 15px; margin-bottom: 15px; }
                                                                                                                                                                                                                                                                    .cliente-destaque { background: #e8f5e9; padding: 10px; border-radius: 8px; margin-bottom: 15px; text-align: center; }
                                                                                                                                                                                                                                                                            .item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; }
                                                                                                                                                                                                                                                                                    .total-row { margin-top: 15px; border-top: 2px solid #000; padding-top: 10px; text-align: center; }
                                                                                                                                                                                                                                                                                            .assinatura-container { margin-top: 25px; text-align: center; }
                                                                                                                                                                                                                                                                                                    .nome-assinatura { font-family: 'Dancing Script', cursive; font-size: 20px; color: #0047AB; margin-bottom: -5px; display: block; }
                                                                                                                                                                                                                                                                                                            .linha-assinatura { border-top: 1px solid #333; width: 80%; margin: 0 auto; display: block; }
                                                                                                                                                                                                                                                                                                                    .footer-recibo { font-size: 9px; text-align: center; margin-top: 15px; color: #888; }
                                                                                                                                                                                                                                                                                                                        </style>
                                                                                                                                                                                                                                                                                                                        </head>
                                                                                                                                                                                                                                                                                                                        <body>

                                                                                                                                                                                                                                                                                                                        <div class="app-container">
                                                                                                                                                                                                                                                                                                                            <div class="brand-header">
                                                                                                                                                                                                                                                                                                                                    <h1>Mover Express</h1>
                                                                                                                                                                                                                                                                                                                                            <p>LOG√çSTICA E ENTREGAS JF</p>
                                                                                                                                                                                                                                                                                                                                                </div>

                                                                                                                                                                                                                                                                                                                                                    <div class="input-box">
                                                                                                                                                                                                                                                                                                                                                            <label>Nome do Cliente / Empresa</label>
                                                                                                                                                                                                                                                                                                                                                                    <input type="text" id="cliente" placeholder="Ex: Jo√£o Silva">
                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                            <div class="input-box">
                                                                                                                                                                                                                                                                                                                                                                                    <label>Dist√¢ncia da Rota (KM)</label>
                                                                                                                                                                                                                                                                                                                                                                                            <input type="number" id="distancia" placeholder="0.0" step="0.1">
                                                                                                                                                                                                                                                                                                                                                                                                </div>

                                                                                                                                                                                                                                                                                                                                                                                                    <div class="input-box">
                                                                                                                                                                                                                                                                                                                                                                                                            <label>Tempo Estimado (Minutos)</label>
                                                                                                                                                                                                                                                                                                                                                                                                                    <input type="number" id="tempo" placeholder="0">
                                                                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="toggle-container">
                                                                                                                                                                                                                                                                                                                                                                                                                                    <label style="margin:0; color: #fff; font-size: 11px;">Pre√ßo Din√¢mico / Chuva (1.5x)</label>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <input type="checkbox" id="dinamico" style="width: 20px; height: 20px;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                    <button class="btn-calc" onclick="calcular()">Gerar Recibo Assinado</button>

                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div id="recibo-area">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div class="carimbo">PAGO</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="recibo-top">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <h2 style="margin:0; font-size: 20px; color: #27AE60;">MOVER EXPRESS</h2>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span style="font-size: 10px;">CNPJ: 63.313.201/0001-69</span><br>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span style="font-size: 10px;">Log√≠stica e Entregas JF</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="cliente-destaque">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span style="font-size: 10px; color: #666; display: block; text-transform: uppercase;">Cliente/Destinat√°rio</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <strong id="res-cliente" style="font-size: 16px; color: #1B5E20;">---</strong>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div id="corpo-recibo"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="total-row">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span style="font-size: 12px;">VALOR TOTAL PAGO</span><br>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <strong id="valorTotal">R$ 0,00</strong>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="assinatura-container">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span class="nome-assinatura">Alisson silva novais</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="linha-assinatura"></span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="legenda-assinatura" style="font-size: 9px; font-weight: bold; color: #333; margin-top: 5px; display: block;">Respons√°vel Mover Express</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="footer-recibo">Juiz de Fora - MG | <span id="data-recibo"></span></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <button id="btnRoute" class="btn-route" onclick="iniciarRota()">üìç Iniciar Rota (Tempo Real)</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <button id="btnShare" class="btn-share" onclick="compartilhar()">‚úÖ Enviar Recibo (WhatsApp)</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function calcular() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const cliente = document.getElementById('cliente').value || "N√£o informado";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const km = parseFloat(document.getElementById('distancia').value);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const minutos = parseFloat(document.getElementById('tempo').value);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const isDinamica = document.getElementById('dinamico').checked;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (!km || !minutos) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            alert("Preencha a dist√¢ncia e o tempo!");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const tarifaBase = 3.00;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const valorKm = 1.40;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const valorMin = 0.25;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const dinamica = isDinamica ? 1.5 : 1.0;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        let valor = (tarifaBase + (valorKm * km) + (valorMin * minutos)) * dinamica;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (valor < 8) valor = 8; 

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const valorFormatado = valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById('res-cliente').innerText = cliente;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById('corpo-recibo').innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="item"><span>KM rodados:</span> <strong>${km} KM</strong></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div class="item"><span>Tempo:</span> <strong>${minutos} min</strong></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="item"><span>Pagamento:</span> <strong style="color: green;">IDENTIFICADO</strong></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    `;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            document.getElementById('valorTotal').innerText = valorFormatado;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.getElementById('data-recibo').innerText = new Date().toLocaleString('pt-BR');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.getElementById('recibo-area').style.display = 'block';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            document.getElementById('btnRoute').style.display = 'block';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.getElementById('btnShare').style.display = 'block';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            function iniciarRota() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const cliente = document.getElementById('cliente').value || "Cliente";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const msg = encodeURIComponent(`üöö *Mover Express Informa:*\n\nOl√°, *${cliente}*! Estou iniciando o seu trajeto agora.\n\nPara sua seguran√ßa, vou compartilhar minha *Localiza√ß√£o em Tempo Real* aqui abaixo. Por favor, acompanhe minha chegada!`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    window.open(`https://api.whatsapp.com/send?text=${msg}`, '_blank');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            async function compartilhar() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const cliente = document.getElementById('cliente').value || "Cliente";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const valor = document.getElementById('valorTotal').innerText;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const recibo = document.getElementById('recibo-area');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const canvas = await html2canvas(recibo, { backgroundColor: '#ffffff', scale: 2 });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    canvas.toBlob(async (blob) => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const file = new File([blob], `recibo-pago-${cliente}.png`, { type: 'image/png' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.share) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            try {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                await navigator.share({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        files: [file],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                title: 'Recibo Mover Express',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        text: `‚úÖ *RECIBO DE PAGAMENTO*\n\nCliente: *${cliente}*\nValor: *${valor}*\n\nObrigado por confiar na *Mover Express*!`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            } catch (err) { console.log(err); }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        alert("Tire um print para enviar!");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </script>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                